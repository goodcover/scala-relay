$ exec ./make-expected.sh

# Ensure that if there are multiple sources with the same name they can extract to the same file.
> relayExtract
$ must-mirror target/scala-2.13/src_managed/relay/graphql/Test.graphql expected1.graphql

# Changing a source should replace the old extract.
$ copy-file src/main/scala/example2/Test.bak src/main/scala/example2/Test.scala
> relayExtract
$ must-mirror target/scala-2.13/src_managed/relay/graphql/Test.graphql expected2.graphql
$ copy-file target/scala-2.13/src_managed/relay/graphql/Test.graphql graphql/Test.graphql

# Modifying an extract should replace the old extract from all sources.
$ touch src/main/scala/example2/Test.scala
> relayExtract
$ newer target/scala-2.13/src_managed/relay/graphql/Test.graphql graphql/Test.graphql
$ must-mirror target/scala-2.13/src_managed/relay/graphql/Test.graphql expected2.graphql
